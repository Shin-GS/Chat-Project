<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<body>
<!--/*@thymesVar id="type" type="com.chat.server.common.constant.conversation.ConversationType"*/-->
<section th:fragment="participant"
         id="conversation-participant-list"
         hx-swap-oob="true"
         class="mt-4">
    <th:block th:if="${type != null && type == T(com.chat.server.common.constant.conversation.ConversationType).GROUP}">
        <!--/*@thymesVar id="participants" type="java.util.List<com.chat.server.service.conversation.response.ConversationParticipantInfoResponse>"*/-->
        <div class="flex items-center justify-between mb-2">
            <h3 class="text-sm font-semibold">Participants</h3>
            <span class="text-xs text-gray-500"
                  th:text="${#lists.size(participants)} + ' members'">
                0 members
            </span>
        </div>

        <ul class="divide-y divide-gray-200 border rounded">
            <li th:each="participant : ${participants}" class="px-3 py-2 flex items-center justify-between">
                <span class="font-medium"
                      th:text="|${participant.name}[${#strings.defaultString(participant.role.getRoleName(), participant.role.getRoleName())}]|">
                    Name[MEMBER]
                </span>

                <!--/*@thymesVar id="nowRole" type="com.chat.server.common.constant.conversation.ConversationUserRole"*/-->
                <!--/*@thymesVar id="conversationId" type="com.chat.server.domain.vo.ConversationId"*/-->
                <!--/*@thymesVar id="user" type="com.chat.server.service.user.response.UserInfoResponse"*/-->
                <div th:if="${nowRole == T(com.chat.server.common.constant.conversation.ConversationUserRole).SUPER_ADMIN && user.id != participant.userId}">
                    <button type="button"
                            th:attr="hx-get=@{|/hx/conversations/groups/role/${conversationId}/${participant.userId}/modal|}"
                            hx-swap="none"
                            class="flex items-center gap-2 text-sm text-gray-700 hover:text-blue-600"
                            th:attrappend="aria-label=|Change role for ${participant.name}|">
                        Change Role
                    </button>
                </div>
            </li>
        </ul>
    </th:block>
</section>
</body>
</html>
