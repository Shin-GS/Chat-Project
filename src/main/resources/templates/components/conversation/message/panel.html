<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<body>
<!--/*@thymesVar id="user" type="com.chat.server.service.user.response.UserInfoResponse"*/-->
<!--/*@thymesVar id="friendUser" type="com.chat.server.service.user.response.UserInfoResponse"*/-->
<div th:fragment="conversation-panel"
     class="flex-1 p-4"
     id="conversation-panel"
     hx-swap-oob="true"
     th:attr="data-user-id=${user.id}, data-friend-id=${friendUser.id}">
    <div>
        <div class="chat-topbar">
            <h2 id="chat-title" th:text="${friendUser.name}">채팅방</h2>
        </div>

        <div hidden="hidden"
             id="initial-loader"
             th:attr="hx-get='/hx/conversations/' + ${friendUser.id} + '/before'"
             hx-trigger="load"
             hx-target="#chat-message-list"
             hx-swap="afterbegin"></div>

        <div id="chat-message-list"
             style="height: 400px; overflow-y: auto; border: 1px solid #ccc;"></div>

        <div class="chat-bottombar">
            <label for="chat-input">
                <input type="text"
                       id="chat-input"
                       placeholder="메시지를 입력하세요..."
                       style="width: 80%;"/>
            </label>
            <button id="chat-send-button" type="button">전송</button>
        </div>
    </div>
</div>
</body>
</html>
