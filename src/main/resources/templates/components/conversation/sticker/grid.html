<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en" th:lang="${#locale.toLanguageTag()}">
<body>
<!--/*@thymesVar id="pack" type="com.chat.server.service.conversation.response.ConversationStickerPackResponse"*/-->
<!--/*@thymesVar id="stickers" type="java.util.List<com.chat.server.service.conversation.response.ConversationStickerPackStickerResponse>"*/-->
<section th:fragment="sticker-grid"
         id="conversation-sticker-grid"
         hx-swap-oob="true"
         class="mt-3 border border-gray-200 rounded-lg bg-white p-3">
    <div class="flex items-center justify-between mb-2">
        <h4 class="text-sm font-semibold text-gray-900">
            Stickers &middot; <span th:text="${pack.name() != null ? pack.name() : pack.category()}">Animals</span>
        </h4>
        <span class="text-xs text-gray-500" th:text="${#lists.size(stickers)} + ' items'">0 items</span>
    </div>

    <div th:if="${#lists.isEmpty(stickers)}" class="text-sm text-gray-500">
        No stickers found in this pack
    </div>

    <ul th:if="${!#lists.isEmpty(stickers)}"
        class="grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-3">
        <li th:each="sticker : ${stickers}"
            class="group border border-gray-200 rounded-lg p-2 bg-white hover:bg-gray-50 cursor-pointer transition"
            th:attr="data-sticker-id=${sticker.id}">
            <button type="button"
                    class="w-full flex flex-col items-center gap-2 focus:outline-none focus:ring-2 focus:ring-blue-500 rounded"
                    title="Send this sticker"
                    aria-label="Send this sticker"
                    th:attr="data-image-url=${sticker.imageUrl}, data-alt=${sticker.altText}, data-code=${sticker.code}">
                <img th:src="${sticker.imageUrl}"
                     th:alt="${sticker.altText}"
                     loading="lazy"
                     decoding="async"
                     class="w-20 h-20 object-contain"/>
                <span class="text-xs text-gray-700 truncate" th:text="${sticker.code}">cat_wave</span>
            </button>
        </li>
    </ul>
</section>
</body>
</html>
