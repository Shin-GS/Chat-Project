<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<body>
<ul th:fragment="friend-list"
    id="search-friend-list"
    hx-swap-oob="true">
    <!--/*@thymesVar id="searchUsers" type="java.util.List<com.chat.server.service.user.response.UserInfoResponse>"*/-->
    <li th:if="${#lists.isEmpty(searchUsers)}">not exists</li>

    <li th:each="searchUser : ${searchUsers}">
        <!--/*@thymesVar id="searchUser" type="com.chat.server.service.user.response.UserInfoResponse"*/-->
        <form th:if="${!searchUser.friend}"
              hx-post="/hx/conversations/friends"
              hx-swap="none">
            <input type="hidden" name="friendUserId" th:value="${searchUser.id}"/>
            <button type="submit"
                    class="bg-blue-100 hover:bg-blue-200 text-blue-900 font-semibold px-3 py-1 rounded">
                <span th:text="|${searchUser.name}[${T(com.chat.server.common.util.MaskingUtil).mask(searchUser.accountId)}]|">Add</span>
            </button>
        </form>

        <div th:if="${searchUser.friend}">
            <button type="button" disabled
                    class="bg-gray-300 text-gray-600 font-semibold px-3 py-1 rounded cursor-not-allowed">
                <span th:text="|${searchUser.name}[${T(com.chat.server.common.util.MaskingUtil).mask(searchUser.accountId)}]|+ ' (친구)'">Friend</span>
            </button>
        </div>
    </li>
</ul>
</body>
</html>
