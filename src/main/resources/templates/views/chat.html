<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head th:replace="~{views/layout :: head}">
    <title>Chat Room</title>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.min.js"></script>
</head>
<body>
<header th:replace="~{views/layout :: header}"></header>

<main th:fragment="content"
      class="flex-grow flex flex-col items-center py-8">
    <div class="flex justify-between max-w-5xl w-full items-center px-6 mb-4">
        <h1 class="text-3xl font-bold text-gray-800">Welcome to the Chat Room</h1>
    </div>

    <section class="z-10 border rounded-lg max-w-5xl w-full h-full text-sm lg:flex">
        <div class="flex h-full w-full">
            <!-- Sidebar -->
            <div class="w-1/3 p-4 border-r">
                <div>
                    <aside class="sidebar">
                        <button type="button"
                                hx-get="/hx/users/find/names/modal"
                                hx-swap="none"
                                class="flex items-center gap-2 text-lg hover:text-blue-500">
                            üîç ÏπúÍµ¨ Í≤ÄÏÉâ
                        </button>
                    </aside>

                    <section>
                        <h2 class="text-md font-semibold mb-2 text-gray-700">ÎÇ¥ ÏπúÍµ¨ Î™©Î°ù</h2>
                        <div hidden="hidden" hx-get="/hx/chats/friends" hx-trigger="load" hx-swap="none"></div>
                        <ul id="friend-list" class="space-y-2 text-sm text-gray-800"></ul>
                    </section>
                </div>
            </div>
            <!-- Chat Panel -->
            <div class="flex-1 p-4">
                <div>
                    <div class="chat-topbar">
                        <h2 id="chat-title" th:text="${roomTitle}">Ï±ÑÌåÖÎ∞©</h2>
                    </div>

                    <div class="chat-list"
                         id="chat-message-list"
                         style="height: 400px; overflow-y: auto; border: 1px solid #ccc; margin-bottom: 1rem;">
                    </div>

                    <div class="chat-bottombar">
                        <label for="chat-input"></label>
                        <input type="text"
                               id="chat-input"
                               placeholder="Î©îÏãúÏßÄÎ•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî..."
                               style="width: 80%;"/>
                        <button onclick="sendMessage()">Ï†ÑÏÜ°</button>
                    </div>
                </div>
            </div>
        </div>
    </section>
</main>

<footer th:replace="~{views/layout :: footer}"></footer>
</body>
</html>
